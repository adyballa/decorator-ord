{"version":3,"file":"abstract.record.js","sourceRoot":"","sources":["../abstract.record.ts"],"names":[],"mappings":";AAMA;IAAA;QAEc,YAAO,GAA6D,EAAE,CAAC;IAkCrF,CAAC;IA9Ba,kCAAS,GAAnB,UAAoB,GAAsB,EAAE,GAAU,EAAE,KAAS;QAC7D,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,GAAG,CAAC,CAAC,CAAC,CAAC;YAChB,GAAG,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC;QACrB,CAAC;QACD,MAAM,CAAC,IAAI,CAAC;IAChB,CAAC;IAIS,8BAAK,GAAf,UAAgB,SAAgB,EAAE,MAAa,EAAE,KAAY;QACzD,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,MAAM,CAAC,CAAC,KAAK,CAAC,CAAC;IAClD,CAAC;IAEM,6BAAI,GAAX,UAAY,SAAgB,EAAE,MAAa,EAAE,KAAY;QACrD,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,EAAE,SAAS,EAAE,EAAE,CAAC;aACtC,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,EAAE,MAAM,EAAE,EAAE,CAAC;aAC9C,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,MAAM,CAAC,EAAE,KAAK,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;QACrE,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,SAAS,EAAE,MAAM,EAAE,KAAK,CAAC,CAAC;IAChD,CAAC;IAEM,+BAAM,GAAb,UAAc,SAAgB,EAAE,MAAa,EAAE,KAAY,EAAE,IAAY;QACrE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,EAAE,SAAS,EAAE,EAAE,CAAC;aACtC,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,EAAE,MAAM,EAAE,EAAE,CAAC;aAC9C,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,MAAM,CAAC,EAAE,KAAK,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;QACrE,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE,MAAM,EAAE,KAAK,EAAE,IAAI,CAAC,CAAC;IACjD,CAAC;IAEM,8BAAK,GAAZ;QACI,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;IACtB,CAAC;IACL,qBAAC;AAAD,CAAC,AApCD,IAoCC;AApCqB,sBAAc,iBAoCnC,CAAA","sourcesContent":["export interface IRecord<T> {\n    record(fieldName:string, method:string, value:string, data?:Object):void;\n    play(fieldName:string, method:string, value:string):T\n    reset():void;\n}\n\nexport abstract class AbstractRecord<T> implements IRecord<T> {\n\n    protected results:{[fieldname:string]:{[method:string]:{[value:string]:T}}} = {};\n\n    protected initVal:T;\n\n    protected guarantee(obj:{[key:string]:any}, key:string, value:any):this {\n        if (!(key in obj)) {\n            obj[key] = value;\n        }\n        return this;\n    }\n\n    protected abstract _record(fieldName:string, method:string, value:string, data?:Object):void;\n\n    protected _play(fieldName:string, method:string, value:string):any{\n        return this.results[fieldName][method][value];\n    }\n\n    public play(fieldName:string, method:string, value:string):T {\n        this.guarantee(this.results, fieldName, {})\n            .guarantee(this.results[fieldName], method, {})\n            .guarantee(this.results[fieldName][method], value, this.initVal);\n        return this._play(fieldName, method, value);\n    }\n\n    public record(fieldName:string, method:string, value:string, data?:Object):void {\n        this.guarantee(this.results, fieldName, {})\n            .guarantee(this.results[fieldName], method, {})\n            .guarantee(this.results[fieldName][method], value, this.initVal);\n        this._record(fieldName, method, value, data);\n    }\n\n    public reset():void {\n        this.results = {};\n    }\n}\n"]}